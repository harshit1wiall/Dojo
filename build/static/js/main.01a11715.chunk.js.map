{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useCollection.js","hooks/useFirestore.js","pages/create/Create.js","components/Avatar.js","components/ProjectList.js","pages/dashboard/ProjectFilter.js","pages/dashboard/Dashboard.js","pages/login/Login.js","hooks/useLogin.js","pages/signup/Signup.js","hooks/useSignup.js","hooks/useDocument.js","pages/project/ProjectComments.js","pages/project/ProjectSummary.js","pages/project/Project.js","hooks/useLogout.js","assets/temple.svg","components/Navbar.js","assets/dashboard_icon.svg","assets/add_icon.svg","components/Sidebar.js","components/OnlineUsers.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","useCollection","collection","_query","_orderBy","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","id","initialState","document","isPending","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","delete","updateDocument","updates","update","updatedDocument","categories","label","Create","history","useNavigate","users","setUsers","name","setName","details","setDetails","dueDate","setDueDate","category","setCategory","assignedUsers","setAssignedUsers","formError","setFormError","map","displayName","handleSubmit","e","preventDefault","length","assignedUsersList","u","photoURL","createdBy","uid","project","comments","className","onSubmit","required","onChange","target","option","options","isMulti","Avatar","src","alt","ProjectList","projects","to","toDate","toDateString","filterList","ProjectFilter","changeFilter","currentFilter","setCurrentFilter","f","onClick","newFilter","Dashboard","filter","setFilter","assignedToMe","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","documentRef","online","useLogin","disabled","Signup","setDisplayName","thumbnail","setThumbnail","thumbnailError","setThumbnailError","signup","createUserWithEmailAndPassword","uploadPath","put","img","getDownloadURL","imgUrl","updateProfile","set","useSignup","selected","files","includes","size","ProjectComments","newComment","setNewComment","commentToAdd","content","Math","random","comment","formatDistanceToNow","addSuffix","ProjectSummary","Project","setDocument","err","useDocument","useParams","Navbar","logout","a","currentUser","signOut","useLogout","Temple","Sidebar","DashboardIcon","AddIcon","OnlineUsers","App","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.01a11715.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\nimport 'firebase/storage'\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDJYOtC4_E5CLiiTl8LPbzQowsLi9w4Pr0\",\r\n    authDomain: \"thedojosite-dfc1b.firebaseapp.com\",\r\n    projectId: \"thedojosite-dfc1b\",\r\n    storageBucket: \"thedojosite-dfc1b.appspot.com\",\r\n    messagingSenderId: \"656655006172\",\r\n    appId: \"1:656655006172:web:541924cd4c9d359687f719\"\r\n  };\r\n\r\n//init firebase\r\n\r\nfirebase.initializeApp(firebaseConfig)\r\n\r\n//intit services\r\nconst projectFirestore=firebase.firestore();\r\nconst projectAuth=firebase.auth()\r\nconst projectStorage=firebase.storage()\r\n\r\n//timestamp\r\n\r\nconst timestamp=firebase.firestore.Timestamp \r\n\r\nexport{projectFirestore,projectAuth,timestamp,projectStorage}","import { createContext, useReducer, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload }\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged(user => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user })\n      unsub()\n    })\n  }, [])\n\n  console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n\n}","import { AuthContext } from \"../context/AuthContext\"\nimport { useContext } from \"react\"\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext)\n\n  if(!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider')\n  }\n\n  return context\n}","import { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null)\n  const [error, setError] = useState(null)\n\n  // if we don't use a ref --> infinite loop in useEffect\n  // _query is an array and is \"different\" on every function call\n  const query = useRef(_query).current\n  const orderBy = useRef(_orderBy).current\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection)\n\n    if (query) {\n      ref = ref.where(...query)\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy)\n    }\n\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let results = []\n      snapshot.docs.forEach(doc => {\n        results.push({...doc.data(), id: doc.id})\n      });\n      \n      // update state\n      setDocuments(results)\n      setError(null)\n    }, error => {\n      console.log(error)\n      setError('could not fetch the data')\n    })\n\n    // unsubscribe on unmount\n    return () => unsubscribe()\n\n  }, [collection, query, orderBy])\n\n  return { documents, error }\n}","import { useReducer, useEffect, useState } from \"react\"\nimport { projectFirestore, timestamp } from \"../firebase/config\"\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null,\n}\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case 'IS_PENDING':\n      return { isPending: true, document: null, success: false, error: null }\n    case 'ADDED_DOCUMENT':\n      return { isPending: false, document: action.payload, success: true, error: null }\n    case 'DELETED_DOCUMENT':\n      return { isPending: false, document: null, success: true, error: null }\n    case 'ERROR':\n      return { isPending: false, document: null, success: false, error: action.payload }\n    case \"UPDATED_DOCUMENT\":\n      return { isPending: false, document: action.payload, success: true,  error: null }\n    default:\n      return state\n  }\n}\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState)\n  const [isCancelled, setIsCancelled] = useState(false)\n\n  // collection ref\n  const ref = projectFirestore.collection(collection)\n\n  // only dispatch if not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action)\n    }\n  }\n  \n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      const createdAt = timestamp.fromDate(new Date())\n      const addedDocument = await ref.add({ ...doc, createdAt })\n      dispatchIfNotCancelled({ type: 'ADDED_DOCUMENT', payload: addedDocument })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message })\n    }\n  }\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      await ref.doc(id).delete()\n      dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'could not delete' })\n    }\n  }\n\n  // update a document\n  const updateDocument = async (id, updates) => {\n    dispatch({ type: \"IS_PENDING\" })\n\n    try {\n      const updatedDocument = await ref.doc(id).update(updates)\n      dispatchIfNotCancelled({ type: \"UPDATED_DOCUMENT\", payload: updatedDocument })\n      return updatedDocument\n    } \n    catch (error) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: error })\n      return null\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { addDocument, deleteDocument, updateDocument, response }\n\n}","import { useState, useEffect } from 'react'\r\nimport { useCollection } from '../../hooks/useCollection'\r\nimport { useAuthContext } from '../../hooks/useAuthContext'\r\nimport { timestamp } from '../../firebase/config'\r\nimport { useFirestore } from '../../hooks/useFirestore'\r\nimport { useNavigate  } from 'react-router-dom'\r\nimport Select from 'react-select'\r\n\r\n// styles\r\nimport './Create.css'\r\n\r\nconst categories = [\r\n  { value: 'development', label: 'Development' },\r\n  { value: 'design', label: 'Design' },\r\n  { value: 'sales', label: 'Sales' },\r\n  { value: 'marketing', label: 'Marketing' },\r\n]\r\n\r\nexport default function Create() {\r\n  const history = useNavigate()\r\n  const { addDocument, response } = useFirestore('projects')\r\n  const { user } = useAuthContext()\r\n  const { documents } = useCollection('users')\r\n  const [users, setUsers] = useState([])\r\n\r\n  // form field values\r\n  const [name, setName] = useState('')\r\n  const [details, setDetails] = useState('')\r\n  const [dueDate, setDueDate] = useState('')\r\n  const [category, setCategory] = useState('')\r\n  const [assignedUsers, setAssignedUsers] = useState([])\r\n  const [formError, setFormError] = useState(null)\r\n\r\n  // create user values for react-select\r\n  useEffect(() => {\r\n    if(documents) {\r\n      setUsers(documents.map(user => {\r\n        return { value: {...user, id: user.id}, label: user.displayName }\r\n      }))\r\n    }\r\n  }, [documents])\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    setFormError(null)\r\n\r\n    if (!category) {\r\n      setFormError('Please select a project category.')\r\n      return\r\n    }\r\n    if (assignedUsers.length < 1) {\r\n      setFormError('Please assign the project to at least 1 user')\r\n      return\r\n    }\r\n\r\n    const assignedUsersList = assignedUsers.map(u => {\r\n      return { \r\n        displayName: u.value.displayName, \r\n        photoURL: u.value.photoURL,\r\n        id: u.value.id\r\n      }\r\n    })\r\n    const createdBy = { \r\n      displayName: user.displayName, \r\n      photoURL: user.photoURL,\r\n      id: user.uid\r\n    }\r\n\r\n    const project = {\r\n      name,\r\n      details,\r\n      assignedUsersList, \r\n      createdBy,\r\n      category: category.value,\r\n      dueDate: timestamp.fromDate(new Date(dueDate)),\r\n      comments: []\r\n    }\r\n\r\n    await addDocument(project)\r\n    if (!response.error) {\r\n      history('/')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"create-form\">\r\n      <h2 className=\"page-title\">Create a new Project</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>Project name:</span>\r\n          <input\r\n            required \r\n            type=\"text\" \r\n            onChange={(e) => setName(e.target.value)}\r\n            value={name}\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Project Details:</span>\r\n          <textarea \r\n            required\r\n            onChange={(e) => setDetails(e.target.value)}\r\n            value={details} \r\n          ></textarea>\r\n        </label>\r\n        <label>\r\n          <span>Set due date:</span>\r\n          <input\r\n            required \r\n            type=\"date\" \r\n            onChange={(e) => setDueDate(e.target.value)} \r\n            value={dueDate}\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Project category:</span>\r\n          <Select\r\n            onChange={(option) => setCategory(option)}\r\n            options={categories}\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Assign to:</span>\r\n          <Select\r\n            onChange={(option) => setAssignedUsers(option)}\r\n            options={users}\r\n            isMulti\r\n          />\r\n        </label>\r\n\r\n        <button className=\"btn\">Add Project</button>\r\n\r\n        {formError && <p className=\"error\">{formError}</p>}\r\n      </form>\r\n    </div>\r\n  )\r\n}","import './Avatar.css'\r\n\r\nimport React from 'react'\r\n\r\nexport default function Avatar({src}) {\r\n  return (\r\n    <div className='avatar'> <img src={src} alt=\"user avatar\" /></div>\r\n  )\r\n}\r\n","import { Link } from 'react-router-dom'\r\nimport Avatar from '../components/Avatar'\r\n\r\n// styles\r\nimport './ProjectList.css'\r\n\r\nexport default function ProjectList({ projects }) {\r\n  console.log(projects)\r\n\r\n  return (\r\n    <div className=\"project-list\">\r\n      {projects.length === 0 && <p>No projects yet!</p>}\r\n      {projects.map(project => (\r\n        <Link to={`/projects/${project.id}`} key={project.id}>\r\n          <h4>{project.name}</h4>\r\n          <p>Due by {project.dueDate.toDate().toDateString()}</p>\r\n          <div className=\"assigned-to\">\r\n            <p><strong>Assigned to:</strong></p>\r\n            <ul>\r\n              {project.assignedUsersList.map(user => (\r\n                <li key={user.photoURL}>\r\n                  <Avatar src={user.photoURL} />\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </Link>\r\n      ))}\r\n    </div>\r\n  )\r\n}","import { useState } from 'react'\r\n\r\nconst filterList = ['all', 'mine', 'development', 'design', 'marketing', 'sales']\r\n\r\nexport default function ProjectFilter({ changeFilter }) {\r\n  const [currentFilter, setCurrentFilter] = useState('all')\r\n\r\n  const handleClick = (newFilter) => {\r\n    setCurrentFilter(newFilter)\r\n    changeFilter(newFilter)\r\n  }\r\n\r\n  return (\r\n    <div className=\"project-filter\">\r\n      <nav>\r\n        <p>Filter by: </p>\r\n        {filterList.map((f) => (\r\n          <button key={f}\r\n            onClick={() => handleClick(f)}\r\n            className={currentFilter === f ? 'active' : ''}\r\n          >{f}</button>\r\n        ))}\r\n      </nav>\r\n    </div>\r\n  )\r\n}","import { useCollection } from '../../hooks/useCollection'\r\nimport { useState } from 'react'\r\nimport { useAuthContext } from '../../hooks/useAuthContext'\r\n\r\n// components\r\nimport ProjectList from '../../components/ProjectList'\r\nimport ProjectFilter from './ProjectFilter'\r\n\r\n// styles\r\nimport './Dashboard.css'\r\n\r\nexport default function Dashboard() {\r\n  const { user } = useAuthContext()\r\n  const { documents, error } = useCollection('projects')\r\n  const [filter, setFilter] = useState('all')\r\n\r\n  const changeFilter = (newFilter) => {\r\n    setFilter(newFilter)\r\n  }\r\n  \r\n  const projects = documents ? documents.filter(document => {\r\n    switch(filter) {\r\n      case 'all':\r\n        return true\r\n      case 'mine':\r\n        let assignedToMe = false\r\n        document.assignedUsersList.forEach(u => {\r\n          if(u.id === user.uid) {\r\n            assignedToMe = true\r\n          }\r\n        })\r\n        return assignedToMe\r\n      case 'development':\r\n      case 'design':\r\n      case 'sales':\r\n      case 'marketing':\r\n        console.log(document.category, filter)\r\n        return document.category === filter\r\n      default:\r\n        return true\r\n    }\r\n  }) : null\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"page-title\">Dashboard</h2>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {documents && <ProjectFilter changeFilter={changeFilter} />}\r\n      {projects && <ProjectList projects={projects} />}\r\n    </div>\r\n  )\r\n}","import { useState } from 'react'\r\nimport { useLogin } from '../../hooks/useLogin'\r\n\r\n// styles\r\nimport './Login.css'\r\n\r\nexport default function Login() {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const { login, error, isPending } = useLogin()\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    login(email, password)\r\n  }\r\n  \r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"auth-form\">\r\n      <h2>login</h2>\r\n      <label>\r\n        <span>email:</span>\r\n        <input\r\n          required\r\n          type=\"email\" \r\n          onChange={(e) => setEmail(e.target.value)} \r\n          value={email} \r\n        />\r\n      </label>\r\n      <label>\r\n        <span>password:</span>\r\n        <input \r\n          required\r\n          type=\"password\" \r\n          onChange={(e) => setPassword(e.target.value)} \r\n          value={password} \r\n        />\r\n      </label>\r\n      {!isPending && <button className=\"btn\">Log in</button>}\r\n      {isPending && <button className=\"btn\" disabled>loading</button>}\r\n      {error && <div className=\"error\">{error}</div>}\r\n    </form>\r\n  )\r\n}","import { useState, useEffect } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // login\n      const res = await projectAuth.signInWithEmailAndPassword(email, password)\n\n      // update online status\n      const documentRef = projectFirestore.collection('users').doc(res.user.uid)\n      await documentRef.update({ online: true })\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { login, isPending, error }\n}","import { useState } from 'react'\nimport { useSignup } from '../../hooks/useSignup'\n\n// styles\nimport './Signup.css'\n\nexport default function Signup() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [displayName, setDisplayName] = useState('')\n  const [thumbnail, setThumbnail] = useState(null)\n  const [thumbnailError, setThumbnailError] = useState(null)\n  const { signup, isPending, error } = useSignup()\n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    signup(email, password, displayName, thumbnail)\n  }\n\n  const handleFileChange = (e) => {\n    setThumbnail(null)\n    let selected = e.target.files[0]\n    console.log(selected)\n\n    if (!selected) {\n      setThumbnailError('Please select a file')\n      return\n    }\n    if (!selected.type.includes('image')) {\n      setThumbnailError('Selected file must be an image')\n      return\n    }\n    if (selected.size > 10000000) {\n      setThumbnailError('Image file size must be less than 100kb')\n      return\n    }\n    \n    setThumbnailError(null)\n    setThumbnail(selected)\n    console.log('thumbnail updated')\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"auth-form\">\n      <h2>sign up</h2>\n      <label>\n        <span>email:</span>\n        <input\n          required \n          type=\"email\" \n          onChange={(e) => setEmail(e.target.value)} \n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          required\n          type=\"password\" \n          onChange={(e) => setPassword(e.target.value)} \n          value={password}\n        />\n      </label>\n      <label>\n        <span>display name:</span>\n        <input\n          required\n          type=\"text\" \n          onChange={(e) => setDisplayName(e.target.value)} \n          value={displayName}\n        />\n      </label>\n      <label>\n        <span>Profile thumbnail:</span>\n        <input \n          required\n          type=\"file\"\n          onChange={handleFileChange}\n        />\n        {thumbnailError && <div className=\"error\">{thumbnailError}</div>}\n      </label>\n      {!isPending && <button className=\"btn\">Sign up</button>}\n      {isPending && <button className=\"btn\" disabled>loading</button>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { projectAuth, projectStorage, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n\n  const signup = async (email, password, displayName, thumbnail) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(email, password)\n\n      if (!res) {\n        throw new Error('Could not complete signup')\n      }\n\n      // upload user thumbnail\n      const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`\n      const img = await projectStorage.ref(uploadPath).put(thumbnail)\n      const imgUrl = await img.ref.getDownloadURL()\n\n      // add display AND PHOTO_URL name to user\n      await res.user.updateProfile({ displayName, photoURL: imgUrl })\n\n      // create a user document\n      await projectFirestore.collection('users').doc(res.user.uid).set({ \n        online: true,\n        displayName,\n        photoURL: imgUrl,\n      })\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { signup, error, isPending }\n}","import { useEffect, useState } from \"react\"\r\nimport { projectFirestore } from \"../firebase/config\"\r\n\r\nexport const useDocument = (collection, id) => {\r\n  const [document, setDocument] = useState(null)\r\n  const [error, setError] = useState(null)\r\n\r\n  // realtime document data\r\n  useEffect(() => {\r\n    const ref = projectFirestore.collection(collection).doc(id)\r\n\r\n    const unsubscribe = ref.onSnapshot(snapshot => {\r\n      // need to make sure the doc exists & has data\r\n      if(snapshot.data()) {\r\n        setDocument({...snapshot.data(), id: snapshot.id})\r\n        setError(null)\r\n      }\r\n      else {\r\n        setError('No such document exists')\r\n      }\r\n    }, err => {\r\n      console.log(err.message)\r\n      setError('failed to get document')\r\n    })\r\n\r\n    // unsubscribe on unmount\r\n    return () => unsubscribe()\r\n\r\n  }, [collection, id])\r\n\r\n  return { document, error }\r\n}","import { useState } from \"react\"\r\nimport { timestamp } from \"../../firebase/config\"\r\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\r\nimport { useFirestore } from \"../../hooks/useFirestore\"\r\nimport Avatar from \"../../components/Avatar\"\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\r\n\r\nexport default function ProjectComments({ project }) {\r\n  const { user } = useAuthContext()\r\n  const { updateDocument, response } = useFirestore('projects')\r\n  const [newComment, setNewComment] = useState('')\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const commentToAdd = {\r\n      displayName: user.displayName,\r\n      photoURL: user.photoURL,\r\n      content: newComment,\r\n      createdAt: timestamp.fromDate(new Date()),\r\n      id: Math.random()\r\n    }\r\n    \r\n    await updateDocument(project.id, {\r\n      comments: [...project.comments, commentToAdd],\r\n    })\r\n    if (!response.error) {\r\n      setNewComment('')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"project-comments\">\r\n      <h4>Project Comments</h4>\r\n\r\n      <ul>\r\n        {project.comments.length > 0 && project.comments.map(comment => (\r\n          <li key={comment.id}>\r\n            <div className=\"comment-author\">\r\n              <Avatar src={comment.photoURL} />\r\n              <p>{comment.displayName}</p>\r\n            </div>\r\n            <div className=\"comment-date\">\r\n              <p>{formatDistanceToNow(comment.createdAt.toDate(), {addSuffix: true})}</p>\r\n            </div>\r\n            <div className=\"comment-content\">\r\n              <p>{comment.content}</p>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      <form className=\"add-comment\" onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>Add new comment:</span>\r\n          <textarea \r\n            onChange={(e) => setNewComment(e.target.value)}\r\n            value={newComment}\r\n          ></textarea>\r\n        </label>\r\n        <button className=\"btn\">Add Comment</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}","import Avatar from \"../../components/Avatar\"\r\nimport { useFirestore } from \"../../hooks/useFirestore\"\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\r\n\r\nexport default function ProjectSummary({ project }) {\r\n  const { deleteDocument } = useFirestore('projects')\r\n  const { user } = useAuthContext()\r\n  const history = useNavigate()\r\n\r\n  const handleClick = () => {\r\n    deleteDocument(project.id)\r\n    history('/')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"project-summary\">\r\n        <h2 className=\"page-title\">{project.name}</h2>\r\n        <p className=\"due-date\">\r\n          Project due by {project.dueDate.toDate().toDateString()}\r\n        </p>\r\n        <p className=\"details\">\r\n          {project.details}\r\n        </p>\r\n        <h4>Project assigned to:</h4>\r\n        <div className=\"assigned-users\">\r\n          {project.assignedUsersList.map(user => (\r\n            <div key={user.id}>\r\n              <Avatar src={user.photoURL} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      {user.uid === project.createdBy.id && (\r\n        <button className=\"btn\" onClick={handleClick}>Mark as Complete</button>\r\n      )}\r\n    </div>\r\n  )\r\n}","import { useParams } from \"react-router-dom\"\r\nimport { useDocument } from '../../hooks/useDocument'\r\n\r\n// components\r\nimport ProjectComments from \"./ProjectComments\"\r\nimport ProjectSummary from \"./ProjectSummary\"\r\n\r\n// styles\r\nimport './Project.css'\r\n\r\nexport default function Project() {\r\n  const { id } = useParams()\r\n  const { document, error } = useDocument('projects', id)\r\n\r\n  if (error) {\r\n    return <div className=\"error\">{error}</div>\r\n  }\r\n  if (!document) {\r\n    return <div className=\"loading\">Loading...</div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"project-details\">\r\n      <ProjectSummary project={document} />\r\n      <ProjectComments project={document} />\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n  \n  const logout = async () => {\n    setError(null)\n    setIsPending(true)\n\n    try {\n      // update online status\n      const { uid } = projectAuth.currentUser\n      await projectFirestore.collection('users').doc(uid).update({ online: false })\n      \n      // sign the user out\n      await projectAuth.signOut()\n      \n      // dispatch logout action\n      dispatch({ type: 'LOGOUT' })\n\n      // update state\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      } \n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { logout, error, isPending }\n}","export default __webpack_public_path__ + \"static/media/temple.c57f882d.svg\";","import { Link } from 'react-router-dom'\nimport { useLogout } from '../hooks/useLogout'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// styles & images\nimport './Navbar.css'\nimport Temple from '../assets/temple.svg'\n\nexport default function Navbar() {\n  const { logout, isPending } = useLogout()\n  const { user } = useAuthContext()\n\n  return (\n    <nav className=\"navbar\">\n      <ul>\n        {!user && (\n          <>\n            <li className=\"logo\">\n              <img src={Temple} alt=\"dojo logo\" />\n              <span>The Dojo</span>\n            </li>\n \n            <li><Link to=\"/login\">Login</Link></li>\n            <li><Link to=\"/signup\">Signup</Link></li>\n          </>\n        )}\n\n        {user && (\n          <li>\n            {!isPending && <button className=\"btn\" onClick={logout}>Logout</button>}\n            {isPending && <button className=\"btn\" disabled>Logging out...</button>}\n          </li>\n        )}\n      </ul>\n    </nav>\n  )\n}","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","import { NavLink } from \"react-router-dom\"\nimport Avatar from \"./Avatar\"\nimport { useAuthContext } from \"../hooks/useAuthContext\"\n// styles & images\nimport \"./Sidebar.css\"\nimport DashboardIcon from '../assets/dashboard_icon.svg'\nimport AddIcon from '../assets/add_icon.svg'\n\nexport default function Sidebar() {\nconst {user}=useAuthContext()\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar-content\">\n        <div className=\"user\">\n          <Avatar src={user.photoURL}/>\n          <p>Hey {user.displayName}</p>  \n        </div>  \n        <nav className=\"links\">\n          <ul>\n            <li>\n              <NavLink  to=\"/\">\n                <img src={DashboardIcon} alt=\"dashboard icon\" />\n                <span>Dashboard</span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/create\">\n                <img src={AddIcon} alt=\"add project icon\" />\n                <span>New Project</span>\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  )\n}\n","import { useCollection } from '../hooks/useCollection'\r\n\r\n// components\r\nimport Avatar from './Avatar'\r\n\r\n// styles\r\nimport './OnlineUsers.css'\r\n\r\nexport default function OnlineUsers() {\r\n  const { isPending, error, documents } = useCollection('users')\r\n\r\n  return (\r\n    <div className=\"user-list\">\r\n      <h2>All Users</h2>\r\n      {isPending && <div>Loading users...</div>}\r\n      {error && <div>{error}</div>}\r\n      {documents && documents.map(user => (\r\n        <div key={user.id} className=\"user-list-item\">\r\n         {user.online &&<span className=\"online-user\"></span>}\r\n          <span>{user.displayName}</span>\r\n          <Avatar src={user.photoURL} />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n} ","import{BrowserRouter,Routes,Route, Navigate} from 'react-router-dom'\nimport { useAuthContext } from './hooks/useAuthContext'\nimport './App.css'\nimport Create from './pages/create/Create'\nimport Dashboard from './pages/dashboard/Dashboard'\nimport Login from './pages/login/Login'\nimport Signup from './pages/signup/Signup'\nimport  Project from './pages/project/Project'\nimport Navbar from './components/Navbar'\nimport Sidebar from './components/Sidebar'\nimport OnlineUsers from './components/OnlineUsers'\n\nfunction App() {\n  const {authIsReady,user}=useAuthContext()\n  return (\n    <div className=\"App\">\n    {authIsReady &&(\n<BrowserRouter>\n{user && <Sidebar/>}\n<div className=\"container\">\n<Navbar/>\n<Routes>\n<Route path='/' element={user?<Dashboard/>:<Navigate to='/login'/>}/>\n<Route path='/create' element={user?<Create/>:<Navigate to='/login'/>}/>\n<Route path='/login' element={user?<Navigate to='/'/>:<Login/>}/>\n<Route path='/signup' element={user ?<Navigate to='/'/>:<Signup/>}/>\n<Route path='/projects/:id' element={user?<Project/>:<Navigate to='/login'/>}/>\n</Routes>\n</div>\n{user &&<OnlineUsers/>}\n</BrowserRouter>\n    )}\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}